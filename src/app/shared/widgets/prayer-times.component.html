<div class="bg-secondary dark:bg-[#0f172a] rounded-[2rem] p-8 text-white relative overflow-hidden shadow-2xl group border border-slate-700/50 dark:border-slate-800">
  <!-- Decorative background blur -->
  <div class="absolute -top-10 -right-10 w-40 h-40 bg-primary/20 blur-3xl rounded-full group-hover:bg-primary/30 transition-colors duration-700"></div>
  
  <div class="relative z-10">
    <div class="flex items-center justify-between mb-8">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm">
          <span class="material-icons-round text-primary">schedule</span>
        </div>
        <div>
          <h4 class="font-bold text-white">Bønnetider</h4>
          <p class="text-[10px] text-primary uppercase tracking-widest flex items-center gap-1">
            <span class="material-icons-round text-[10px] text-primary">location_on</span> København
          </p>
        </div>
      </div>
      <span class="material-icons-round text-primary/40 animate-pulse">auto_awesome</span>
    </div>

    <!-- Loading State -->
    @if(loading()) {
      <div class="text-center py-8">
        <p class="text-sm text-slate-400">Indlæser bønnetider...</p>
      </div>
    }

    <!-- Error State -->
    @if(error() && !loading()) {
      <div class="text-center py-8">
        <p class="text-sm text-red-400">{{error()}}</p>
      </div>
    }

    <!-- Prayer Times -->
    @if(!loading() && !error() && prayers().length > 0) {
      <!-- Countdown Card -->
      @if(countdown() && nextPrayer()) {
        <div class="mb-6">
          <app-next-prayer-countdown
            [countdown]="countdown()!"
            [prayerName]="nextPrayer()!.name"
            [prayerTime]="nextPrayer()!.time">
          </app-next-prayer-countdown>
        </div>
      }

      <div class="space-y-1">
        @for (prayer of prayers(); track prayer.name) {
          @if(prayer.name === nextPrayer()?.name) {
            <!-- Highlighted Next Prayer -->
            <div class="p-4 bg-primary/10 border border-primary/20 rounded-2xl text-sm backdrop-blur-md">
              <div class="flex justify-between items-center">
                <span class="font-bold flex items-center gap-2">
                  <span class="w-2 h-2 bg-primary rounded-full animate-pulse"></span>
                  {{prayer.name}} <span class="text-[10px] ml-1 text-primary/80 font-serif">{{prayer.arabic}}</span>
                </span>
                <span class="font-bold text-primary text-base font-mono">{{prayer.time}}</span>
              </div>
            </div>
          } @else {
            <!-- Regular Prayer -->
            <div class="flex justify-between items-center py-3 border-b border-white/5 text-sm group/item hover:bg-white/5 px-2 rounded-lg transition-colors">
              <span class="text-slate-300 group-hover/item:text-white transition-colors">{{prayer.name}} <span class="text-[10px] ml-1 text-slate-500 font-serif">{{prayer.arabic}}</span></span>
              <span class="font-bold font-mono">{{prayer.time}}</span>
            </div>
          }
        }
      </div>

      <p class="text-[10px] text-center text-slate-500 mt-8 font-medium">Masjid Tawhid • {{currentDate()}}</p>
    }
  </div>
</div>
