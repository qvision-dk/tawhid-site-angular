<div class="bg-slate-50 dark:bg-slate-800/50 rounded-[2.5rem] p-8 lg:p-12 border border-slate-200 dark:border-slate-700">
  <div class="space-y-6">
    <div class="space-y-4">
      <div class="w-16 h-1 bg-primary rounded-full"></div>
      <h3 class="text-3xl font-display font-bold text-secondary dark:text-white">
        {{activity ? 'Rediger aktivitet' : 'Ny aktivitet'}}
      </h3>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Title -->
        <div class="md:col-span-2 space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Titel *</label>
          <input
            formControlName="title"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
            placeholder="Aftenbøn i dag"
            type="text"
          />
          @if(form.get('title')?.invalid && form.get('title')?.touched) {
            <p class="text-red-500 text-xs">Titel er påkrævet</p>
          }
        </div>

        <!-- Description -->
        <div class="md:col-span-2 space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Beskrivelse</label>
          <textarea
            formControlName="description"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
            placeholder="Beskrivelse af aktiviteten"
            rows="4"
          ></textarea>
        </div>

        <!-- Activity Type -->
        <div class="space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Aktivitetstype *</label>
          <select
            formControlName="activityTypeId"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
          >
            <option value="">Vælg type</option>
            @for(type of activityTypes; track type.id) {
              <option [value]="type.id">{{type.label}}</option>
            }
          </select>
          @if(form.get('activityTypeId')?.invalid && form.get('activityTypeId')?.touched) {
            <p class="text-red-500 text-xs">Aktivitetstype er påkrævet</p>
          }
        </div>

        <!-- Repeat Badge -->
        <div class="space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Gentagelse</label>
          <select
            formControlName="repeatBadge"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
          >
            <option value="">Ingen</option>
            <option value="weekly">Ugentlig</option>
            <option value="monthly">Månedlig</option>
            <option value="yearly">Årlig</option>
          </select>
        </div>

        <!-- Date -->
        <div class="space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Dato</label>
          <input
            formControlName="date"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
            type="date"
          />
        </div>

        <!-- Weekday -->
        <div class="space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Ugedag (0=Søndag, 6=Lørdag)</label>
          <input
            formControlName="weekday"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
            type="number"
            min="0"
            max="6"
          />
        </div>

        <!-- Start Time -->
        <div class="space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Starttid</label>
          <input
            formControlName="startTime"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
            type="time"
          />
        </div>

        <!-- End Time -->
        <div class="space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Sluttid</label>
          <input
            formControlName="endTime"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
            type="time"
          />
        </div>

        <!-- Location -->
        <div class="md:col-span-2 space-y-2">
          <label class="text-sm font-bold text-slate-700 dark:text-slate-300">Lokation</label>
          <input
            formControlName="location"
            class="w-full bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary rounded-xl py-4 px-6 text-secondary dark:text-white transition-all"
            placeholder="Moskéen"
            type="text"
          />
        </div>

        <!-- Is Active -->
        <div class="md:col-span-2 flex items-center gap-3">
          <input
            formControlName="isActive"
            type="checkbox"
            id="isActive"
            class="w-5 h-5 rounded border-slate-300 text-primary focus:ring-primary"
          />
          <label for="isActive" class="text-sm font-bold text-slate-700 dark:text-slate-300">
            Aktiv (synlig for brugere)
          </label>
        </div>
      </div>

      <div class="flex gap-4 pt-4">
        <button
          type="submit"
          [disabled]="form.invalid || isSubmitting()"
          class="bg-primary hover:bg-amber-600 disabled:bg-slate-400 text-white px-8 py-4 rounded-full text-sm font-bold transition-colors flex items-center gap-2"
        >
          {{activity ? 'Opdater' : 'Opret'}}
        </button>
        <button
          type="button"
          (click)="cancel.emit()"
          class="bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-8 py-4 rounded-full text-sm font-bold transition-colors"
        >
          Annuller
        </button>
      </div>
    </form>
  </div>
</div>
